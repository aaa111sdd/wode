if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e,t){"use strict";function n(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function a(e,n){return t.isString(e)?n:e}const i=(e,t)=>{const n=e.__vccOpts||e;for(const[a,i]of t)n[a]=i;return n};const l=i({name:"musichead",data:()=>({}),props:["title","icon","color"],methods:{handleToBack(){uni.navigateBack()},handleToHome(){uni.navigateTo({url:"/pages/index/index"})}}},[["render",function(t,n,a,i,l,s){return e.openBlock(),e.createElementBlock("view",{class:"music-head",style:e.normalizeStyle({color:a.color})},[a.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"music-head-icon"},[e.createElementVNode("image",{onClick:n[0]||(n[0]=(...e)=>s.handleToBack&&s.handleToBack(...e)),class:"image1",src:"/static/chevron-leftss.png"}),e.createElementVNode("text",null,"|"),e.createElementVNode("image",{onClick:n[1]||(n[1]=(...e)=>t.handToHome&&t.handToHome(...e)),class:"image2",src:"/static/hui.png"})])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(a.title),1)],4)}],["__scopeId","data-v-383cf19a"]]),s="https://service-b752iiu9-1316430971.bj.apigw.tencentcs.com/release";function o(e){return uni.request({url:`${s}/song/detail?ids=`+e,method:"GET"})}function c(e){return uni.request({url:`${s}/song/url?id=`+e,method:"GET"})}const r=i({data:()=>({topList:[],intput:null}),onLoad(){(function(){let e=["3","0","2","1"];return new Promise((function(t,a){uni.request({url:`${s}/topList/detail`,method:"GET",data:{},success:n=>{let a=n.data.list;a.length=4;for(var i=0;i<e.length;i++)a[i].listId=e[i];t(a)},fail:()=>{n("log","at common/api.js:21","失败")}})}))})().then((e=>{this.topList=e}))},components:{musichead:l},methods:{inputmusic(e){n("log","at pages/index/index.vue:63",e.detail.value),this.intput=e.detail.value},navtoplay(){uni.navigateTo({url:"/pages/seachlist/seachlist?input="+this.intput})},handleToList(e){uni.navigateTo({url:"/pages/list/list?listId="+e})}}},[["render",function(t,n,i,s,o,c){const r=a(e.resolveDynamicComponent("musichead"),l);return e.openBlock(),e.createElementBlock("view",{class:"index"},[e.createVNode(r,{icon:!1,title:"网易云音乐"}),e.createElementVNode("view",{class:"container"},[e.createElementVNode("scroll-view",{"scroll-y":"ture"},[e.createElementVNode("view",{class:"index-search"},[e.createElementVNode("image",{onClick:n[0]||(n[0]=(...e)=>c.navtoplay&&c.navtoplay(...e)),src:"/static/sou.png"}),e.createElementVNode("input",{onInput:n[1]||(n[1]=(...e)=>c.inputmusic&&c.inputmusic(...e)),type:"text",placeholder:"搜索歌曲"},null,32)]),e.createElementVNode("view",{class:"item"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.topList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{onClick:e=>c.handleToList(t.listId),class:"index-list-item",key:n},[e.createElementVNode("view",{class:"index-list-img"},[e.createElementVNode("image",{src:t.coverImgUrl,mode:"scaleToFill"},null,8,["src"]),e.createElementVNode("text",null,e.toDisplayString(t.updateFrequency),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tracks,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"index-list-text",key:n},[e.createElementVNode("view",null,e.toDisplayString(n+1)+"."+e.toDisplayString(t.first)+" - "+e.toDisplayString(t.second),1)])))),128))],8,["onClick"])))),128))])])])])}],["__scopeId","data-v-61734716"]]);const d=i({data:()=>({musiclist:[]}),comments:{musichead:l},onLoad(){uni.request({url:`${s}/personalized/newsong?limit=100`,method:"GET"}).then((e=>{n("log","at pages/list/list.vue:68",e),this.musiclist=e.data.result}))},methods:{handToDetil(e){uni.navigateTo({url:"/pages/detail/detail?songId="+e})}}},[["render",function(t,n,i,s,o,c){const r=a(e.resolveDynamicComponent("musichead"),l);return e.openBlock(),e.createElementBlock("view",{class:"list"},[e.createElementVNode("view",{class:"fixbg"}),e.createVNode(r,{icon:!0,color:"white",title:"歌单"}),e.createElementVNode("view",{class:"container"},[e.createElementVNode("scroll-view",{"scroll-y":"true"},[e.createElementVNode("view",{class:"list-head"},[e.createElementVNode("view",{class:"list-head-img"},[e.createElementVNode("image",{src:"https://p1.music.126.net/pcYHpMkdC69VVvWiynNklA==/109951166952713766.jpg"}),e.createElementVNode("text",null,"31亿")]),e.createElementVNode("view",{class:"list-head-text"},[e.createElementVNode("view",null," 网易云"),e.createElementVNode("view",null,[e.createElementVNode("image",{src:"https://p1.music.126.net/pcYHpMkdC69VVvWiynNklA==/109951166952713766.jpg"}),e.createTextVNode("飙升榜 ")]),e.createElementVNode("view",null,"云音乐中每天热度上升最快的100首单曲，每日更新")]),e.createElementVNode("view",{class:"list-music"},[e.createElementVNode("view",{class:"list-music-head"},[e.createElementVNode("image",{class:"play",src:"/static/play.png"}),e.createElementVNode("text",null,"播放全部"),e.createElementVNode("text",null,"（共100首）")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.musiclist,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,onClick:e=>c.handToDetil(t.id),class:"list-music-item"},[e.createElementVNode("view",{class:"list-music-top"},e.toDisplayString(n+1),1),e.createElementVNode("view",{class:"list-music-song"},[e.createElementVNode("view",null,e.toDisplayString(t.name),1),e.createElementVNode("view",null,[e.createElementVNode("text",{class:"iconfont icon-customer-service"}),e.createElementVNode("text",{class:"iconfont icon-discount"}),e.createTextVNode(" "+e.toDisplayString(t.song.artists[0].name),1)])])],8,["onClick"])))),128))])])])])])}],["__scopeId","data-v-a961f515"]]);const u=i({data:()=>({songDetail:{},al:{},i:0,srcs:null}),components:{musichead:l},onLoad(e){this.getMusic(e.songId),this.getMusic(e.id)},methods:{getMusic(e){Promise.all([o(e),c(e)]).then((e=>{"200"==e[0].statusCode&&(n("log","at pages/detail/detail.vue:53",e),this.songDetail=e[0].data.songs[0]),"200"==e[0].statusCode&&(this.bgAudioManager=uni.getBackgroundAudioManager(),this.bgAudioManager.title=this.songDetail.name,this.bgAudioManager.src=e[1].data.data[0].url,this.bgAudioManager.onPlay((()=>{this.i=1,this.srcs="../../static/playyyy.png"})),this.bgAudioManager.onPause((()=>{this.srcs="../../static/play.png",this.i=0})))}))},music(){this.i?this.bgAudioManager.pause():this.bgAudioManager.play()}}},[["render",function(t,n,i,s,o,c){const r=a(e.resolveDynamicComponent("musichead"),l);return e.openBlock(),e.createElementBlock("view",{class:"detail"},[e.createElementVNode("image",{src:o.songDetail.al.picUrl,class:"backimg"},null,8,["src"]),e.createVNode(r,{icon:!0,color:"white",title:o.songDetail.name},null,8,["title"]),e.createElementVNode("view",{class:"container"},[e.createElementVNode("scroll-view",{"scroll-y":"true"},[e.createElementVNode("view",{class:"play-detail",onClick:n[0]||(n[0]=(...e)=>c.music&&c.music(...e))},[e.createElementVNode("image",{class:"image",src:o.songDetail.al.picUrl},null,8,["src"]),e.createElementVNode("image",{class:"begin",src:o.srcs},null,8,["src"])])])])])}],["__scopeId","data-v-19fd6cef"]]);const m=i({data:()=>({searchmusiclist:[],list:[]}),onLoad(e){var t,a=this;n("log","at pages/seachlist/seachlist.vue:34",e.input),(t=e.input,uni.request({url:`${s}/cloudsearch?keywords=`+t,method:"GET"})).then((e=>{n("log","at pages/seachlist/seachlist.vue:37",e.data.result.songs),a.list=JSON.parse(JSON.stringify(e.data.result.songs))}))},methods:{navtoplay(e,t,a){n("log","at pages/seachlist/seachlist.vue:44",e,t,a),uni.navigateTo({url:"/pages/detail/detail?id="+e+"&name="+t+"&picUrl="+a})}}},[["render",function(t,n,i,s,o,c){const r=a(e.resolveDynamicComponent("musichead"),l);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{icon:!0,color:"white",title:"歌单"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.list,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,onClick:e=>c.navtoplay(t.id,t.name,t.picUrl),class:"musiclist"},[e.createElementVNode("view",null,e.toDisplayString(n+1)+". "+e.toDisplayString(t.name),1),e.createElementVNode("image",{src:"/static/play.png"})],8,["onClick"])))),128))])}],["__scopeId","data-v-eaaebb6b"]]);__definePage("pages/index/index",r),__definePage("pages/list/list",d),__definePage("pages/detail/detail",u),__definePage("pages/seachlist/seachlist",m);const p={onLaunch:function(){},onShow:function(){},onHide:function(){}};const{app:g,Vuex:h,Pinia:y}={app:e.createVueApp(p)};uni.Vuex=h,uni.Pinia=y,g.provide("__globalStyles",__uniConfig.styles),g._component.mpType="app",g._component.render=()=>{},g.mount("#app")}(Vue,uni.VueShared);
